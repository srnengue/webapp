<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„ÇØ„Ç§„Ç∫„Éó„É¨„Ç§ - „Å´„Åí„Åæ„Å£„Åó</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', sans-serif;
            background: linear-gradient(135deg, #FF6B6B 0%, #FFB347 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .progress-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .progress-text {
            font-size: 14px;
            color: #666;
            font-weight: 600;
        }

        .progress-percentage {
            font-size: 18px;
            color: #FF6B6B;
            font-weight: 700;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #FF6B6B, #FFB347);
            transition: width 0.4s ease;
            border-radius: 10px;
        }

        .quiz-card {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            margin-bottom: 20px;
            animation: slideIn 0.4s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid #f0f0f0;
        }

        .question-category {
            color: #FF6B6B;
            font-size: 14px;
            font-weight: 700;
        }

        .question-number {
            color: #666;
            font-size: 14px;
            font-weight: 600;
        }

        .question-text {
            font-size: 24px;
            color: #333;
            margin-bottom: 30px;
            line-height: 1.5;
            font-weight: 700;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 25px;
        }

        .option-btn {
            width: 100%;
            padding: 20px 25px;
            text-align: left;
            border: 3px solid #f0f0f0;
            border-radius: 15px;
            background: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            color: #333;
        }

        .option-btn:hover:not(:disabled) {
            border-color: #FFB347;
            background: #FFF9F0;
            transform: translateX(5px);
        }

        .option-btn.correct {
            border-color: #28a745;
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            color: #155724;
        }

        .option-btn.incorrect {
            border-color: #dc3545;
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            color: #721c24;
        }

        .option-btn:disabled {
            cursor: not-allowed;
        }

        .explanation-box {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-left: 5px solid #2196F3;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .explanation-box.show {
            display: block;
        }

        .explanation-title {
            font-weight: 700;
            color: #1976D2;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .explanation-text {
            color: #0D47A1;
            line-height: 1.7;
            font-size: 15px;
        }

        .button-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .quit-btn {
            color: #666;
            background: none;
            border: none;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quit-btn:hover {
            color: #333;
            text-decoration: underline;
        }

        .next-btn {
            background: linear-gradient(135deg, #FF6B6B 0%, #FFB347 100%);
            color: white;
            border: none;
            padding: 14px 32px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            display: none;
        }

        .next-btn.show {
            display: block;
        }

        .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);
        }

        .score-display {
            color: #FF6B6B;
            font-size: 18px;
            font-weight: 700;
        }

        .result-card {
            background: white;
            padding: 50px 40px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            text-align: center;
            display: none;
            animation: slideIn 0.6s ease-out;
        }

        .result-card.show {
            display: block;
        }

        .result-icon {
            font-size: 100px;
            margin-bottom: 25px;
            animation: bounce 1s ease-out;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .result-title {
            font-size: 32px;
            color: #333;
            margin-bottom: 15px;
            font-weight: 800;
        }

        .result-score {
            font-size: 56px;
            font-weight: 800;
            color: #FF6B6B;
            margin-bottom: 10px;
        }

        .result-percentage {
            font-size: 24px;
            color: #666;
            margin-bottom: 20px;
        }

        .result-message {
            font-size: 18px;
            color: #666;
            margin-bottom: 35px;
            line-height: 1.8;
        }

        .result-details {
            text-align: left;
            margin: 30px 0;
            max-height: 400px;
            overflow-y: auto;
        }

        .result-details-title {
            font-size: 20px;
            font-weight: 700;
            color: #333;
            margin-bottom: 15px;
        }

        .result-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 12px;
            display: flex;
            gap: 12px;
            align-items: start;
        }

        .result-item-icon {
            font-size: 24px;
            flex-shrink: 0;
        }

        .result-item-content {
            flex: 1;
        }

        .result-item-question {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .result-item-answer {
            font-size: 14px;
            color: #666;
        }

        .result-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .result-btn {
            flex: 1;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .retry-btn {
            background: linear-gradient(135deg, #FF6B6B 0%, #FFB347 100%);
            color: white;
        }

        .retry-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);
        }

        .menu-btn {
            background: #e0e0e0;
            color: #666;
        }

        .menu-btn:hover {
            background: #d0d0d0;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .quiz-card {
                padding: 25px 20px;
            }

            .question-text {
                font-size: 20px;
            }

            .result-card {
                padding: 40px 25px;
            }

            .result-score {
                font-size: 48px;
            }

            .result-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="progress-container" id="progressContainer">
            <div class="progress-info">
                <div class="progress-text">
                    Âïè <span id="currentQuestion">1</span> / <span id="totalQuestions">3</span>
                </div>
                <div class="progress-percentage" id="progressPercentage">33%</div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div class="quiz-card" id="quizCard">
            <div class="question-header">
                <div class="question-category" id="questionCategory"></div>
                <div class="question-number">Âïè<span id="questionNumber">1</span></div>
            </div>

            <div class="question-text" id="questionText"></div>

            <div class="options-container" id="optionsContainer"></div>

            <div class="explanation-box" id="explanationBox">
                <div class="explanation-title">üí° Ëß£Ë™¨</div>
                <div class="explanation-text" id="explanationText"></div>
            </div>

            <div class="button-container">
                <button class="quit-btn" onclick="quitQuiz()">„ÇÑ„ÇÅ„Çã</button>
                <button class="next-btn" id="nextBtn" onclick="nextQuestion()"></button>
                <div class="score-display">„Çπ„Ç≥„Ç¢: <span id="scoreDisplay">0</span></div>
            </div>
        </div>

        <div class="result-card" id="resultCard">
            <div class="result-icon" id="resultIcon">üéâ</div>
            <div class="result-title">„ÇØ„Ç§„Ç∫ÂÆå‰∫ÜÔºÅ</div>
            <div class="result-score"><span id="finalScore">0</span> / <span id="finalTotal">3</span></div>
            <div class="result-percentage">Ê≠£Ëß£Áéá: <span id="finalPercentage">0</span>%</div>
            <div class="result-message" id="resultMessage"></div>

            <div class="result-details">
                <div class="result-details-title">ÁµêÊûú„ÅÆË©≥Á¥∞</div>
                <div id="resultDetailsList"></div>
            </div>

            <div class="result-actions">
                <button class="result-btn retry-btn" onclick="retryQuiz()">
                    üîÑ „ÇÇ„ÅÜ‰∏ÄÂ∫¶ÊåëÊà¶
                </button>
                <button class="result-btn menu-btn" onclick="backToMenu()">
                    ‚Üê „É°„Éã„É•„Éº„Å´Êàª„Çã
                </button>
            </div>
        </div>
    </div>

    <script>
        const quizDatabase = {
            1: {
                category: "Èò≤ÁÅΩÂü∫Á§éÁü•Ë≠ò",
                questions: [
                    {
                        question: "Âú∞Èúá„ÅåÁô∫Áîü„Åó„ÅüÊôÇ„ÄÅÊúÄÂàù„Å´„Åô„Åπ„ÅçË°åÂãï„ÅØÔºü",
                        options: ["„Åô„Åê„Å´Â§ñ„Å´ÈÄÉ„Åí„Çã", "Êú∫„ÅÆ‰∏ã„Å´Èö†„Çå„Çã", "„Ç®„É¨„Éô„Éº„Çø„Éº„ÅßÈÅøÈõ£„Åô„Çã", "Á™ì„ÇíÈñã„Åë„Çã"],
                        correct: 1,
                        explanation: "Âú∞ÈúáÊôÇ„ÅØ„Åæ„ÅöË∫´„ÅÆÂÆâÂÖ®„ÇíÁ¢∫‰øù„Åô„Çã„Åì„Å®„ÅåÊúÄÂÑ™ÂÖà„Åß„Åô„ÄÇÊú∫„ÅÆ‰∏ã„Å´Èö†„Çå„Å¶È†≠„ÇíÂÆà„Çä„Åæ„Åó„Çá„ÅÜ„ÄÇÊè∫„Çå„ÅåÂèé„Åæ„Å£„Å¶„Åã„ÇâÈÅøÈõ£„ÇíÈñãÂßã„Åó„Åæ„Åô„ÄÇ"
                    },
                    {
                        question: "ÈÅøÈõ£ÊâÄ„Å´ÊåÅ„Å£„Å¶„ÅÑ„Åè„Åπ„ÅçÊúÄ„ÇÇÈáçË¶Å„Å™„ÇÇ„ÅÆ„ÅØÔºü",
                        options: ["„Ç≤„Éº„É†Ê©ü", "È£≤ÊñôÊ∞¥„Å®È£üÊñô", "„ÉÜ„É¨„Éì", "„Éë„ÇΩ„Ç≥„É≥"],
                        correct: 1,
                        explanation: "ÁîüÂëΩÁ∂≠ÊåÅ„Å´ÂøÖË¶Å„Å™Ê∞¥„Å®È£üÊñô„ÅåÊúÄÂÑ™ÂÖà„Åß„Åô„ÄÇ1‰∫∫„ÅÇ„Åü„Çä3Êó•ÂàÜ„ÅÆÂÇôËìÑ„ÅåÊé®Â•®„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åù„ÅÆ‰ªñ„ÄÅÂåªËñ¨ÂìÅ„ÇÑË≤¥ÈáçÂìÅ„ÇÇÈáçË¶Å„Åß„Åô„ÄÇ"
                    },
                    {
                        question: "Ê¥•Ê≥¢Ë≠¶Â†±„ÅåÂá∫„ÅüÊôÇ„ÅÆË°åÂãï„ÅØÔºü",
                        options: ["Êµ∑„ÅÆÊßòÂ≠ê„ÇíË¶ã„Å´Ë°å„Åè", "„Åô„Åê„Å´È´òÂè∞„Å∏ÈÅøÈõ£„Åô„Çã", "ÂÆ∂„ÅßÂæÖÊ©ü„Åô„Çã", "Â∑ùÊ≤ø„ÅÑ„Å´ÈÅøÈõ£„Åô„Çã"],
                        correct: 1,
                        explanation: "Ê¥•Ê≥¢Ë≠¶Â†±„ÅåÂá∫„Åü„Çâ„ÄÅ„Åô„Åê„Å´È´ò„ÅÑÂ†¥ÊâÄ„ÇÑÊåáÂÆöÈÅøÈõ£ÊâÄ„Å∏ÈÅøÈõ£„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÊµ∑„ÇÑÂ∑ù„Å´„ÅØÁµ∂ÂØæ„Å´Ëøë„Å•„Åã„Åö„ÄÅÊ¥•Ê≥¢„ÅØÁπ∞„ÇäËøî„ÅóÊù•„Çã„ÅÆ„ÅßÊ≥®ÊÑè„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ"
                    }
                ]
            },
            2: {
                category: "ÈÅøÈõ£ÊâÄÁü•Ë≠ò",
                questions: [
                    {
                        question: "ÈÅøÈõ£ÊâÄ„Åß„ÅÆÁîüÊ¥ª„ÅßÂ§ßÂàá„Å™„Åì„Å®„ÅØÔºü",
                        options: ["Ëá™ÂàÜ„ÅÆ„Åì„Å®„Å†„ÅëËÄÉ„Åà„Çã", "„Åø„Çì„Å™„ÅßÂçîÂäõ„Åô„Çã", "Â§ßÂ£∞„ÅßË©±„Åô", "Â•Ω„Åç„Å™Â†¥ÊâÄ„ÇíÂç†È†ò„Åô„Çã"],
                        correct: 1,
                        explanation: "ÈÅøÈõ£ÊâÄ„Åß„ÅØÂ§ö„Åè„ÅÆ‰∫∫„ÅåÂÖ±ÂêåÁîüÊ¥ª„Çí„Åô„Çã„Åü„ÇÅ„ÄÅ„Åä‰∫í„ÅÑ„Å´ÂçîÂäõ„ÅóÂêà„ÅÑ„ÄÅË≠≤„ÇäÂêà„ÅÑ„ÅÆÁ≤æÁ•û„ÅåÂ§ßÂàá„Åß„Åô„ÄÇ„É´„Éº„É´„ÇíÂÆà„Å£„Å¶Âø´ÈÅ©„Å™Áí∞Â¢É„Çí‰Ωú„Çä„Åæ„Åó„Çá„ÅÜ„ÄÇ"
                    },
                    {
                        question: "ÈÅøÈõ£ÊâÄ„Å´Ë°å„ÅèÂâç„Å´Á¢∫Ë™ç„Åô„Åπ„Åç„Åì„Å®„ÅØÔºü",
                        options: ["Â§©Ê∞ó‰∫àÂ†±", "ÊåáÂÆöÈÅøÈõ£ÊâÄ„ÅÆÂ†¥ÊâÄ", "SNS„ÅÆÊõ¥Êñ∞", "„ÉÜ„É¨„ÉìÁï™ÁµÑ"],
                        correct: 1,
                        explanation: "‰∫ãÂâç„Å´Ëá™ÂàÜ„ÅÆ‰Ωè„ÇÄÂú∞Âüü„ÅÆÊåáÂÆöÈÅøÈõ£ÊâÄ„Åå„Å©„Åì„Å´„ÅÇ„Çã„ÅãÁ¢∫Ë™ç„Åó„Å¶„Åä„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇÈÅøÈõ£ÁµåË∑Ø„ÇÇË§áÊï∞Á¢∫Ë™ç„Åó„Å¶„Åä„Åè„Å®ÂÆâÂøÉ„Åß„Åô„ÄÇ"
                    },
                    {
                        question: "„Éö„ÉÉ„Éà„Å®ÈÅøÈõ£„Åô„ÇãÂ†¥Âêà„ÅÆÊ≥®ÊÑèÁÇπ„ÅØÔºü",
                        options: ["„Éö„ÉÉ„ÉàÂêå‰º¥ÂèØËÉΩ„Å™ÈÅøÈõ£ÊâÄ„ÇíÁ¢∫Ë™ç„Åô„Çã", "„Éö„ÉÉ„Éà„ÇíÁΩÆ„ÅÑ„Å¶„ÅÑ„Åè", "ÈÅøÈõ£ÊâÄ„Åß„Éö„ÉÉ„Éà„ÇíËá™Áî±„Å´Ê≠©„Åã„Åõ„Çã", "Áâπ„Å´Ê∫ñÂÇô„ÅØ‰∏çË¶Å"],
                        correct: 0,
                        explanation: "„Éö„ÉÉ„ÉàÂêå‰º¥„ÅÆÈÅøÈõ£„Å´„ÅØ‰∫ãÂâç„ÅÆÊ∫ñÂÇô„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ„Éö„ÉÉ„ÉàÂêå‰º¥ÂèØËÉΩ„Å™ÈÅøÈõ£ÊâÄ„ÇíÁ¢∫Ë™ç„Åó„ÄÅ„Ç≠„É£„É™„Éº„Ç±„Éº„Ç∏„ÇÑ„Éö„ÉÉ„Éà„Éï„Éº„Éâ„ÄÅ‰∫àÈò≤Êé•Á®ÆË®ºÊòéÊõ∏„Å™„Å©„ÇíÁî®ÊÑè„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ"
                    }
                ]
            },
            3: {
                category: "ÁÅΩÂÆ≥ÊÉÖÂ†±",
                questions: [
                    {
                        question: "ÁÅΩÂÆ≥ÊôÇ„ÅÆÊ≠£Á¢∫„Å™ÊÉÖÂ†±Ê∫ê„ÅØÔºü",
                        options: ["SNS„ÅÆÂôÇ", "ÂÖ¨Âºè„ÅÆÈò≤ÁÅΩ„Ç¢„Éó„É™„ÇÑËá™Ê≤ª‰ΩìÊÉÖÂ†±", "Âèã‰∫∫„Åã„Çâ„ÅÆ‰ºùËÅû", "„ÉÜ„É¨„Éì„ÅÆ„Éê„É©„Ç®„ÉÜ„Ç£Áï™ÁµÑ"],
                        correct: 1,
                        explanation: "ÁÅΩÂÆ≥ÊôÇ„ÅØ„ÄÅËá™Ê≤ª‰Ωì„ÅÆÂÖ¨ÂºèÊÉÖÂ†±„ÇÑÊ∞óË±°Â∫Å„ÄÅÈò≤ÁÅΩ„Ç¢„Éó„É™„Å™„Å©„Åã„ÇâÊ≠£Á¢∫„Å™ÊÉÖÂ†±„ÇíÂæó„Çã„Åì„Å®„ÅåÈáçË¶Å„Åß„Åô„ÄÇ„Éá„Éû„Å´ÊÉë„Çè„Åï„Çå„Å™„ÅÑ„Çà„ÅÜÊ≥®ÊÑè„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ"
                    },
                    {
                        question: "Á∑äÊÄ•ÈÄüÂ†±„É°„Éº„É´„ÅåÂ±ä„ÅÑ„ÅüÊôÇ„ÅØÔºü",
                        options: ["ÁÑ°Ë¶ñ„Åô„Çã", "„Åô„Åê„Å´ÂÜÖÂÆπ„ÇíÁ¢∫Ë™ç„Åó„Å¶Ë°åÂãï„Åô„Çã", "Âæå„ÅßË¶ã„Çã", "ÂèãÈÅî„Å´Ëª¢ÈÄÅ„Åô„Çã"],
                        correct: 1,
                        explanation: "Á∑äÊÄ•ÈÄüÂ†±„É°„Éº„É´„ÅØÂëΩ„Å´Èñ¢„Çè„ÇãÈáçË¶Å„Å™ÊÉÖÂ†±„Åß„Åô„ÄÇ„Åô„Åê„Å´Á¢∫Ë™ç„Åó„Å¶ÈÅ©Âàá„Å™Ë°åÂãï„Çí„Å®„Çä„Åæ„Åó„Çá„ÅÜ„ÄÇÂú∞ÈúáÈÄüÂ†±„ÄÅÊ¥•Ê≥¢Ë≠¶Â†±„ÄÅÊ∞óË±°Ë≠¶Â†±„Å™„Å©„ÅåÈÖç‰ø°„Åï„Çå„Åæ„Åô„ÄÇ"
                    },
                    {
                        question: "„Éè„Ç∂„Éº„Éâ„Éû„ÉÉ„Éó„ÅÆÂΩπÂâ≤„ÅØÔºü",
                        options: ["Ë¶≥ÂÖâÂú∞„ÇíÁ§∫„Åô", "ÁÅΩÂÆ≥„É™„Çπ„ÇØ„ÅÆ„ÅÇ„ÇãÂú∞Âüü„ÇíÁ§∫„Åô", "‰∫∫Âè£ÂØÜÂ∫¶„ÇíÁ§∫„Åô", "‰∫§ÈÄöÊ©üÈñ¢„ÇíÁ§∫„Åô"],
                        correct: 1,
                        explanation: "„Éè„Ç∂„Éº„Éâ„Éû„ÉÉ„Éó„ÅØÊµ∏Ê∞¥„ÇÑÂúüÁ†ÇÁÅΩÂÆ≥„Å™„Å©„ÅÆ„É™„Çπ„ÇØ„Åå„ÅÇ„ÇãÂú∞Âüü„ÇíÁ§∫„Åó„Å¶„Åä„Çä„ÄÅÈÅøÈõ£Ë®àÁîª„ÇíÁ´ã„Å¶„ÇãÈöõ„Å´ÈáçË¶Å„Åß„Åô„ÄÇËá™ÂàÜ„ÅÆ‰Ωè„ÇÄÂú∞Âüü„ÅÆ„Éè„Ç∂„Éº„Éâ„Éû„ÉÉ„Éó„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ"
                    }
                ]
            },
            4: {
                category: "„Å´„Åí„Åæ„Å£„Åó„Ç¢„Éó„É™",
                questions: [
                    {
                        question: "„Å´„Åí„Åæ„Å£„Åó„Ç¢„Éó„É™„ÅÆ‰∏ª„Å™Ê©üËÉΩ„ÅØÔºü",
                        options: ["„Ç≤„Éº„É†", "ÈÅøÈõ£Â†¥ÊâÄ„ÅÆÊ§úÁ¥¢„Å®ÁÅΩÂÆ≥ÊÉÖÂ†±", "Èü≥Ê•ΩÂÜçÁîü", "ÂÜôÁúüÁ∑®ÈõÜ"],
                        correct: 1,
                        explanation: "„Å´„Åí„Åæ„Å£„Åó„ÅØÈÅøÈõ£Â†¥ÊâÄ„ÅÆÊ§úÁ¥¢„ÄÅ„Éè„Ç∂„Éº„Éâ„Éû„ÉÉ„Éó„ÅÆÈñ≤Ë¶ß„ÄÅÁÅΩÂÆ≥ÊÉÖÂ†±„ÅÆÈÄöÁü•„Å™„Å©„ÄÅÈò≤ÁÅΩ(Ê∞¥ÂÆ≥)„Å´ÁâπÂåñ„Åó„ÅüÊ©üËÉΩ„ÇíÊèê‰æõ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ"
                    },
                    {
                        question: "„Ç¢„Éó„É™„ÅßÁ¢∫Ë™ç„Åß„Åç„ÇãÊÉÖÂ†±„ÅØÔºü",
                        options: ["„Éã„É•„Éº„Çπ", "ÈÅøÈõ£„É´„Éº„Éà„Å®„Éè„Ç∂„Éº„Éâ„Éû„ÉÉ„Éó", "Â§©Ê∞ó‰∫àÂ†±„ÅÆ„Åø", "‰∫§ÈÄöÊÉÖÂ†±„ÅÆ„Åø"],
                        correct: 1,
                        explanation: "„Å´„Åí„Åæ„Å£„Åó„Åß„ÅØÈÅøÈõ£„É´„Éº„Éà„ÄÅ„Éè„Ç∂„Éº„Éâ„Éû„ÉÉ„Éó„ÄÅÊ∞óË±°ÊÉÖÂ†±„ÄÅÈÅøÈõ£Â†¥ÊâÄ„ÅÆË©≥Á¥∞ÊÉÖÂ†±„Å™„Å©„ÄÅÊ∞¥ÂÆ≥„ÅåËµ∑„Åì„Å£„ÅüÈöõ„Å´ÂøÖË¶Å„Å™Êßò„ÄÖ„Å™ÊÉÖÂ†±„ÇíÁ¢∫Ë™ç„Åß„Åç„Åæ„Åô„ÄÇ"
                    },
                    {
                        question: "„Ç¢„Éó„É™„ÅÆÈÄöÁü•Ê©üËÉΩ„ÅÆÁõÆÁöÑ„ÅØÔºü",
                        options: ["Â∫ÉÂëä„ÇíË°®Á§∫„Åô„Çã", "ÁÅΩÂÆ≥ÊÉÖÂ†±„Çí„Åô„Åê„Å´Áü•„Çâ„Åõ„Çã", "ÂèãÈÅî„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏", "„Ç≤„Éº„É†„ÅÆÊõ¥Êñ∞"],
                        correct: 1,
                        explanation: "ÈÄöÁü•Ê©üËÉΩ„ÅØÁÅΩÂÆ≥Áô∫ÁîüÊôÇ„ÇÑÊ∞óË±°Ë≠¶Â†±Áô∫‰ª§ÊôÇ„Å´„ÄÅ„Åô„Åê„Å´ÊÉÖÂ†±„ÇíÂèó„ÅëÂèñ„Çã„Åì„Å®„Åå„Åß„Åç„ÇãÈáçË¶Å„Å™Ê©üËÉΩ„Åß„Åô„ÄÇÂëΩ„ÇíÂÆà„Çã„Åü„ÇÅ„Å´ÈÄöÁü•„Çí„Ç™„É≥„Å´„Åó„Å¶„Åä„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ"
                    },
                    {
                        question: "„Å´„Åí„Åæ„Å£„Åó„Åß‰Ωø„Åà„ÇãÊ©üËÉΩ„ÅÆ„ÅÜ„Å°„ÄÅÊ≠£„Åó„ÅÑ„ÇÇ„ÅÆ„ÅØÔºü",
                        options: ["VR", "CSLR", "AR", "UV"],
                        correct: 2,
                        explanation: "„Å´„Åí„Åæ„Å£„Åó„Åß„ÅØ„ÄÅÊ¥™Ê∞¥‰ΩìÈ®ìAR„Å®„ÅÑ„ÅÜ„ÄÅËá™Ë∫´„ÅÆ„Ç´„É°„É©Êò†ÂÉè„Å´Âç±Èô∫Â∫¶„Çí‰ΩìÈ®ì„Åß„Åç„ÇãÁÅΩÂÆ≥„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÇíË°®Á§∫„Åß„Åç„Åæ„Åô„ÄÇ"
                    },
                    {
                        question: "Ê∞¥ÂÆ≥ÊôÇ„Å´ÂΩπÁ´ã„Å§„Ç¢„Éó„É™„Å®Ë®Ä„Åà„Å∞Ôºü",
                        options: ["„É¢„É≥„Çπ„Éà", "LINE", "Instagram", "„Å´„Åí„Åæ„Å£„Åó"],
                        correct: 3,
                        explanation: "„Å´„Åí„Åæ„Å£„Åó„ÅØÊ∞¥ÂÆ≥„Å´ÁâπÂåñ„Åó„Åü„Ç¢„Éó„É™„ÅÆ„Åü„ÇÅ„ÄÅÈÅ∏„Å∂„Å™„Çâ„Åì„Çå‰∏ÄÊäû„Åß„Åô„ÄÇ"
                    },
                ]
            },
            5: {
                category: "Ê∞¥ÂÆ≥„Å´Èñ¢„Åô„ÇãÂü∫Êú¨„ÇØ„Ç§„Ç∫",
                questions: [
                    {
                        question: "ÈõÜ‰∏≠Ë±™Èõ®„Å™„Å©„Å´„Çà„Çä„ÄÅ‰∏ãÊ∞¥ÈÅì„ÇÑÂÅ¥Ê∫ù„ÅÆÊéíÊ∞¥ËÉΩÂäõ„ÇíË∂Ö„Åà„Å¶„ÄÅË°ó‰∏≠„ÅÆ‰Ωé„ÅÑÂúüÂú∞„Å´Ê∞¥„Åå„ÅÇ„Åµ„Çå„ÇãÁèæË±°„Çí‰Ωï„Å®Âëº„Å≥„Åæ„Åô„ÅãÔºü",
                        options: ["Â§ñÊ∞¥Ê∞æÊø´", "Ê¥•Ê≥¢", "È´òÊΩÆ", "ÂÜÖÊ∞¥Ê∞æÊø´"],
                        correct: 3,
                        explanation: "ÂÜÖÊ∞¥Ê∞æÊø´„ÅØ„ÄÅÈôç„Å£„ÅüÈõ®„Åå‰∏ãÊ∞¥Âá¶ÁêÜ„ÇÑÊéíÊ∞¥Ë∑Ø„ÅÆËÉΩÂäõ„ÇíË∂Ö„Åà„ÄÅÊ≤≥Â∑ù„Å´ÊµÅ„ÇåËæº„ÇÄÂâç„Å´Ë°ó‰∏≠„Å´Ê∞¥„ÅåÊ∫ú„Åæ„ÇãÁèæË±°„ÅÆ„Åì„Å®„Åß„Åô„ÄÇ"
                    },
                    {
                        question: "Ê¥™Ê∞¥„ÇÑÂúüÁ†ÇÁÅΩÂÆ≥„ÅåÁô∫Áîü„Åô„ÇãÊÅê„Çå„ÅÆ„ÅÇ„ÇãÂú∞Âüü„Å®„ÄÅ„Åù„ÅÆÈÅøÈõ£ÁµåË∑Ø„ÉªÈÅøÈõ£Â†¥ÊâÄ„ÇíÁ§∫„Åó„ÅüÂú∞Âõ≥„Çí‰Ωï„Å®Âëº„Å≥„Åæ„Åô„ÅãÔºü",
                        options: ["„Éè„Ç∂„Éº„Éâ„Éû„ÉÉ„Éó", "Âú∞Ë≥™Âõ≥", "Âú∞ÂΩ¢Âõ≥", "Ê∞óË±°Âõ≥"],
                        correct: 0,
                        explanation: "„Éè„Ç∂„Éº„Éâ„Éû„ÉÉ„Éó„ÅØ„ÄÅËá™ÁÑ∂ÁÅΩÂÆ≥„Å´„Çà„ÇãË¢´ÂÆ≥„Çí‰∫àÊ∏¨„Åó„ÄÅ„Åù„ÅÆÁØÑÂõ≤„ÇÑÈÅøÈõ£Â†¥ÊâÄ„ÄÅÈÅøÈõ£ÁµåË∑Ø„ÇíÂú∞Âõ≥‰∏ä„Å´Á§∫„Åó„Åü„ÇÇ„ÅÆ„Åß„ÄÅ‰ΩèÊ∞ë„ÅÆÈÅøÈõ£Ë°åÂãï„ÇíÊîØÊè¥„Åó„Åæ„Åô„ÄÇ"

                    },
                    {
                        question: "Âè∞È¢®„ÇÑ‰ΩéÊ∞óÂúß„ÅÆÊé•Ëøë„Å´„Çà„Å£„Å¶„ÄÅÂº∑„ÅÑÈ¢®„Å®Ê∞óÂúß„ÅÆ‰Ωé‰∏ã„ÅåÂéüÂõ†„ÅßÊµ∑Èù¢„ÅåÁï∞Â∏∏„Å´È´ò„Åè„Å™„Çä„ÄÅÊµ∑Ê∞¥„ÅåÈô∏Âú∞„Å´Êäº„ÅóÂØÑ„Åõ„ÇãÁèæË±°„Çí‰Ωï„Å®Âëº„Å≥„Åæ„Åô„ÅãÔºü",
                        options: ["Ê¥•Ê≥¢", "Ê∫ÄÊΩÆ", "È´òÊΩÆ", "ÂúüÁü≥ÊµÅ"],
                        correct: 2,
                        explanation: "È´òÊΩÆ„ÅØ„ÄÅÂè∞È¢®„Å™„Å©„ÅÆÊ∞óË±°ÁèæË±°„Å´„Çà„ÇãÂº∑„ÅÑÈ¢®„Å®Ê∞óÂúß„ÅÆ‰Ωé‰∏ã„Å´„Çà„Å£„Å¶Êµ∑Ê∞¥„ÅåÂê∏„ÅÑ‰∏ä„Åí„Çâ„Çå„ÇãÁèæË±°„Åß„Åô„ÄÇ"
                    },
                    {
                        question: "2021Âπ¥5Êúà„ÅÆÈÅøÈõ£ÊÉÖÂ†±ÊîπÊ≠£‰ª•Èôç„ÄÅÁÅΩÂÆ≥„ÅåÁô∫Áîü„ÉªÂàáËø´„Åó„Å¶„Åä„Çä„ÄÅÂëΩ„ÇíÂÆà„Çã„Åü„ÇÅ„Å´Áõ¥„Å°„Å´ÂÆâÂÖ®Á¢∫‰øùË°åÂãï„Çí„Å®„ÇãÂøÖË¶Å„Åå„ÅÇ„ÇãÊúÄ„ÇÇÂç±Èô∫Â∫¶„ÅÆÈ´ò„ÅÑÊÉÖÂ†±„ÅØ„Å©„Çå„Åß„Åô„ÅãÔºü",
                        options: ["ÂúüÁ†ÇÁÅΩÂÆ≥Ë≠¶ÊàíÊÉÖÂ†±", "Á∑äÊÄ•ÂÆâÂÖ®Á¢∫‰øù", "ÈÅøÈõ£ÊåáÁ§∫", "ÈÅøÈõ£Ê∫ñÂÇô„ÉªÈ´òÈΩ¢ËÄÖÁ≠âÈÅøÈõ£ÈñãÂßã"],
                        correct: 1,
                        explanation: "„Åì„Çå„ÅØË≠¶Êàí„É¨„Éô„É´5„Å´Áõ∏ÂΩì„Åó„ÄÅÁÅΩÂÆ≥„Åå„Åô„Åß„Å´Áô∫Áîü„Åó„Å¶„ÅÑ„Çã„Åã„ÄÅÂ∑Æ„ÅóËø´„Å£„Å¶„ÅÑ„ÇãÁä∂Ê≥Å„Åß„ÄÅÁõ¥„Å°„Å´Ë∫´„ÅÆÂÆâÂÖ®„ÇíÁ¢∫‰øù„Åô„ÇãË°åÂãï„ÅåÊ±Ç„ÇÅ„Çâ„Çå„ÇãÊÉÖÂ†±„Åß„Åô„ÄÇ"
                    },
                    {
                        question: "Ê≤≥Â∑ù„ÅåÂ¢óÊ∞¥„Åó„Å¶„ÅÑ„Çã„ÄÅ„Åæ„Åü„ÅØÊ∞æÊø´„ÅÆÊÅê„Çå„Åå„ÅÇ„ÇãÈöõ„Å´„ÄÅÂèñ„Çã„Åπ„Åç„Åß„ÅØ„Å™„ÅÑÊúÄ„ÇÇÂç±Èô∫„Å™Ë°åÂãï„ÅØ„Å©„Çå„Åß„Åô„ÅãÔºü",
                        options: ["„ÉÜ„É¨„Éì„ÇÑ„É©„Ç∏„Ç™„ÅßÊúÄÊñ∞„ÅÆÊ∞óË±°ÊÉÖÂ†±„ÇíÁ¢∫Ë™ç„Åô„Çã", "Â¢óÊ∞¥„Åó„ÅüÂ∑ù„ÅÆÊßòÂ≠ê„ÇíÁ¢∫„Åã„ÇÅ„Çã„Åü„ÇÅ„Å´Ë¶ã„Å´Ë°å„Åè", "ÈÅøÈõ£„ÅåÂøÖË¶Å„Å´„Å™„ÇãÂ†¥Âêà„Å´ÂÇô„Åà„Å¶Ë≤¥ÈáçÂìÅ„Çí„Åæ„Å®„ÇÅ„Çã", "ÂÆ∂„ÅÆ2Èöé„Å™„Å©„ÄÅÈ´ò„ÅÑÂ†¥ÊâÄ„Å´ÁßªÂãï„Åó„Å¶ÂæÖÊ©ü„Åô„ÇãÔºàÂûÇÁõ¥ÈÅøÈõ£Ôºâ"],
                        correct: 1,
                        explanation: "Â¢óÊ∞¥„Åó„ÅüÊ≤≥Â∑ù„ÅØÊµÅ„Çå„ÅåÈÄü„Åè„ÄÅÊ∞¥„Åã„Åï„ÅåÊÄ•ÊøÄ„Å´Â¢ó„Åô„Åü„ÇÅ„ÄÅÈùûÂ∏∏„Å´Âç±Èô∫„Åß„Åô„ÄÇÁµ∂ÂØæ„Å´Ëøë„Å•„ÅÑ„Å¶„ÅØ„ÅÑ„Åë„Åæ„Åõ„Çì„ÄÇ"
                    },
                ]
            },
        };

        let currentQuizId = 1;
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let score = 0;
        let selectedAnswer = null;
        let answeredQuestions = [];

        function loadQuiz() {
            const urlParams = new URLSearchParams(window.location.search);
            currentQuizId = parseInt(urlParams.get('id')) || 1;
            
            currentQuiz = quizDatabase[currentQuizId];
            
            if (!currentQuiz) {
                alert('„ÇØ„Ç§„Ç∫„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
                window.location.href = 'user.html';
                return;
            }

            renderQuestion();
        }

        function renderQuestion() {
            const question = currentQuiz.questions[currentQuestionIndex];
            
            document.getElementById('questionCategory').textContent = currentQuiz.category;
            document.getElementById('questionNumber').textContent = currentQuestionIndex + 1;
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('totalQuestions').textContent = currentQuiz.questions.length;
            
            const progress = ((currentQuestionIndex + 1) / currentQuiz.questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressPercentage').textContent = Math.round(progress) + '%';
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = question.options.map((option, index) => `
                <button class="option-btn" onclick="selectAnswer(${index})">
                    ${option}
                </button>
            `).join('');
            
            document.getElementById('explanationBox').classList.remove('show');
            document.getElementById('nextBtn').classList.remove('show');
            selectedAnswer = null;
        }

        function selectAnswer(answerIndex) {
            if (selectedAnswer !== null) return;
            
            selectedAnswer = answerIndex;
            const question = currentQuiz.questions[currentQuestionIndex];
            const isCorrect = answerIndex === question.correct;
            
            if (isCorrect) {
                score++;
                document.getElementById('scoreDisplay').textContent = score;
            }
            
            answeredQuestions.push({
                question: question.question,
                userAnswer: answerIndex,
                correctAnswer: question.correct,
                isCorrect: isCorrect,
                options: question.options
            });
            
            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach((btn, index) => {
                btn.disabled = true;
                if (index === question.correct) {
                    btn.classList.add('correct');
                } else if (index === answerIndex && !isCorrect) {
                    btn.classList.add('incorrect');
                }
            });
            
            document.getElementById('explanationText').textContent = question.explanation;
            document.getElementById('explanationBox').classList.add('show');
            
            const nextBtn = document.getElementById('nextBtn');
            nextBtn.classList.add('show');
            nextBtn.textContent = currentQuestionIndex + 1 < currentQuiz.questions.length ? 'Ê¨°„Å∏ ‚Üí' : 'ÁµêÊûú„ÇíË¶ã„Çã';
        }

        function nextQuestion() {
            if (currentQuestionIndex + 1 < currentQuiz.questions.length) {
                currentQuestionIndex++;
                renderQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            document.getElementById('progressContainer').style.display = 'none';
            document.getElementById('quizCard').style.display = 'none';
            
            const resultCard = document.getElementById('resultCard');
            resultCard.classList.add('show');
            
            const percentage = Math.round((score / currentQuiz.questions.length) * 100);
            
            document.getElementById('finalScore').textContent = score;
            document.getElementById('finalTotal').textContent = currentQuiz.questions.length;
            document.getElementById('finalPercentage').textContent = percentage;
            
            let message = '';
            let icon = 'üéâ';
            if (percentage >= 90) {
                message = 'ÂÆåÁíß„Åß„ÅôÔºÅÈò≤ÁÅΩ„Éû„Çπ„Çø„Éº„Åß„Åô„Å≠ÔºÅ<br>„Åì„ÅÆÁü•Ë≠ò„Çí„Åú„Å≤Âë®„Çä„ÅÆ‰∫∫„Å´„ÇÇÂÖ±Êúâ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ';
                icon = 'üèÜ';
            } else if (percentage >= 70) {
                message = 'Á¥†Êô¥„Çâ„Åó„ÅÑÔºÅ„Çà„ÅèÁêÜËß£„Åß„Åç„Å¶„ÅÑ„Åæ„ÅôÔºÅ<br>Âºï„ÅçÁ∂ö„ÅçÈò≤ÁÅΩÊÑèË≠ò„ÇíÈ´ò„ÅèÊåÅ„Å°„Åæ„Åó„Çá„ÅÜ„ÄÇ';
                icon = 'üéâ';
            } else if (percentage >= 50) {
                message = '„ÇÇ„ÅÜÂ∞ë„ÅóÔºÅÂæ©Áøí„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜÔºÅ<br>Èò≤ÁÅΩÁü•Ë≠ò„ÇíÊ∑±„ÇÅ„Çã„Åì„Å®„Åß„ÄÅ„ÅÑ„Åñ„Å®„ÅÑ„ÅÜÊôÇ„Å´ÂΩπÁ´ã„Å°„Åæ„Åô„ÄÇ';
                icon = 'üí™';
            } else {
                message = 'È†ëÂºµ„Çä„Åæ„Åó„Çá„ÅÜÔºÅ„ÇÇ„ÅÜ‰∏ÄÂ∫¶ÊåëÊà¶„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑÔºÅ<br>Èò≤ÁÅΩ„ÅØÂëΩ„ÇíÂÆà„ÇãÂ§ßÂàá„Å™Áü•Ë≠ò„Åß„Åô„ÄÇ';
                icon = 'üìö';
            }
            
            document.getElementById('resultIcon').textContent = icon;
            document.getElementById('resultMessage').innerHTML = message;
            
            const detailsList = document.getElementById('resultDetailsList');
            detailsList.innerHTML = answeredQuestions.map((item, index) => `
                <div class="result-item">
                    <div class="result-item-icon">${item.isCorrect ? '‚úÖ' : '‚ùå'}</div>
                    <div class="result-item-content">
                        <div class="result-item-question">Âïè${index + 1}: ${item.question}</div>
                        ${!item.isCorrect ? `<div class="result-item-answer">Ê≠£Ëß£: ${item.options[item.correctAnswer]}</div>` : ''}
                    </div>
                </div>
            `).join('');
        }

        function retryQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            selectedAnswer = null;
            answeredQuestions = [];
            
            document.getElementById('scoreDisplay').textContent = '0';
            document.getElementById('progressContainer').style.display = 'block';
            document.getElementById('quizCard').style.display = 'block';
            document.getElementById('resultCard').classList.remove('show');
            
            renderQuestion();
        }

        function backToMenu() {
            window.location.href = 'user.html';
        }

        function quitQuiz() {
            if (confirm('„ÇØ„Ç§„Ç∫„Çí‰∏≠Êñ≠„Åó„Åæ„Åô„ÅãÔºü')) {
                window.location.href = 'user.html';
            }
        }

        window.addEventListener('load', loadQuiz);
    </script>
</body>
</html>